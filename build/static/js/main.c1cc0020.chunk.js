(this.webpackJsonpkonami=this.webpackJsonpkonami||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(2),s=a.n(r),o=a(3),c=a(4),l=a(6),u=a(5),f=a(0),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).closeNotification=function(e){e.preventDefault(),n.instance.current.remove()},n.instance=i.a.createRef(),n}return Object(c.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"notifications__pop-up",ref:this.instance,children:[Object(f.jsx)("a",{href:"#",className:"close",onClick:this.closeNotification}),this.props.value]})}}]),a}(n.Component),m=(a(13),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).captureFile=function(e){e.preventDefault();var t=e.target.files;if(FileReader&&t&&t.length){var a=new FileReader;a.onload=function(){n.imageRef.current.src=a.result,a.readAsArrayBuffer(t[0]),a.onload=function(){n.buttonRef.current.style.display="block",console.log(a.result),n.setState({image:a.result,hash:null})}},a.readAsDataURL(t[0])}},n.submitFile=function(e){e.preventDefault();for(var t="",a=new Uint8Array(n.state.image),i=a.byteLength,r=0;r<i;r++)t+=String.fromCharCode(a[r]);fetch("http://okto.pw:8080/image",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({image:window.btoa(t)})}).then((function(e){return e.json()})).then((function(e){console.log(e.text),n.hashOutput.current.innerHTML=e.text,n.setState({image:n.state.image,hash:e.text}),n.hashOutput.current.style.display="block",n.buttonRef.current.style.display="none"})),console.log(window.btoa(t))},n.imageRef=i.a.createRef(),n.buttonRef=i.a.createRef(),n.hashOutput=i.a.createRef(),n.notifications=i.a.createRef(),n.state={image:null,hash:null,account:null},n}return Object(c.a)(a,[{key:"createNotification",value:function(e){var t=Object(f.jsx)(h,{value:e});s.a.render(t,this.notifications.current)}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"main-container",children:[Object(f.jsxs)("div",{className:"form-holder",children:[Object(f.jsx)("div",{className:"project-name",children:"Konami App"}),Object(f.jsx)("div",{className:"form-holder__image-wrapper",children:Object(f.jsx)("img",{className:"form-holder__image",ref:this.imageRef,src:"https://pro-spo.ru/images/stories/2014/elitefon.ru-38277.jpg"})}),Object(f.jsxs)("div",{className:"form-holder__buttons-wrapper",children:[Object(f.jsx)("label",{htmlFor:"file-upload",className:"form-holder__label",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(f.jsx)("input",{id:"file-upload",type:"file",className:"form-holder__button",onChange:this.captureFile}),Object(f.jsx)("button",{className:"form-holder__submit-button",ref:this.buttonRef,onClick:this.submitFile,children:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c"})]}),Object(f.jsx)("div",{className:"form-holder__hash-output",ref:this.hashOutput})]}),Object(f.jsx)("div",{className:"notifications",ref:this.notifications})]})}}]),a}(n.Component));s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c1cc0020.chunk.js.map